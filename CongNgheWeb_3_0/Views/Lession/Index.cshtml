@using CongNgheWeb_3_0.Models
@using PagedList.Mvc
@model PagedList.PagedList<tbl_Lession>


@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<!--heder end here-->
<ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="@Url.Action("Index","Admin")">Trang chủ</a></li>
    <li class="breadcrumb-item"><a href="@Url.Action("Index","Course")">Các khóa học</a></li>
    <li class="breadcrumb-item">Các bài học của <strong>@ViewBag.CourseName</strong> </li>
</ol>

<!--grid-->
<div class="agileinfo-grap text-center">
    <div class="agileits-box">
        <div class="agileits-box-body clearfix text-left m-4">
            <h2>Các bài học của <strong>@ViewBag.CourseName </strong></h2>

            <h6>Có <span class="badge badge-primary">@ViewBag.CountLession</span> bài</h6>
            <br />
            <a class="btn btn-danger" href="@Url.Action("Create","Lession",new {@CourseID=ViewBag.CourseID})"><i class="fa fa-plus"></i> Thêm bài học</a>

            <table id="table" class="table table-hover table-bordered" style="color:#000;">
                <tr>
                    <th width="20%">
                        @Html.DisplayNameFor(model => model.FirstOrDefault().LessionName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.FirstOrDefault().URLLession)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.FirstOrDefault().TotalTime)
                    </th>

                    <th width="5%">Sửa</th>
                    <th width="5%">Xóa</th>
                </tr>
                @{
                    foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.LessionName)
                            </td>
                            <td>
                                <a class="btn btn-success">Xem</a>
                                <input type="text" onclick="Show()" class="hidden" value="@item.URLLession" />

                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.TotalTime)
                            </td>

                            <td>
                                <a href="@Url.Action("Edit","Lession",new {@id=item.ID, @CourseID=item.CourseID}) " class="text-danger"><i class="fa fa-edit fa-2x" style="color: #808080;"></i></a>
                            </td>
                            <td>
                                <a href="@Url.Action("Delete","Lession",new {@id=item.ID})"><i class="fa fa-trash-o fa-2x" style="color: #808080;"></i></a>
                            </td>
                        </tr>
                    }
                }

            </table>
            <div id="page_list">
                @Html.PagedListPager(Model, Page => Url.Action("Index",new { Page=Page}))
            </div>
        </div>
    </div>
</div>
<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
    Launch demo modal
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalCenterTitle">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="Result">

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>

<script>
    function Show(value) {
        var x = value;
        alert();
    }
</script>